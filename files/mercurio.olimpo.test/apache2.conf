# Apache2 main configuration file
# Basado en Debian Bookworm. Adaptado para prácticas de VirtualHosts.

ServerRoot "/etc/apache2"

Mutex file:${APACHE_LOCK_DIR} default

PidFile ${APACHE_PID_FILE}

Timeout 300

KeepAlive On
MaxKeepAliveRequests 100
KeepAliveTimeout 5

# --------- LOGGING ---------
ErrorLog ${APACHE_LOG_DIR}/error.log
LogLevel warn

# --------- MIME ---------
TypesConfig /etc/mime.types

# --------- SECURITY ---------
ServerTokens Prod
ServerSignature Off

# --------- DEFAULT DIRECTORY SETTINGS ---------
<Directory />
    AllowOverride None
    Require all denied
</Directory>

<Directory /usr/share>
    AllowOverride None
    Require all granted
</Directory>

<Directory /var/www/>
    Options +FollowSymLinks
    AllowOverride None
    Require all granted
</Directory>

# Importante para módulos y virtual hosts
AccessFileName .htaccess

# --------- LOAD MODULES ---------
IncludeOptional mods-enabled/*.load
IncludeOptional mods-enabled/*.conf

# --------- PORTS ---------
Include ports.conf

# --------- VIRTUAL HOSTS ---------
IncludeOptional sites-enabled/*.conf

